
<!DOCTYPE html
  >
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja" xml:lang="ja"><head><meta charset="UTF-8"/><title>SL27: Using Language/Culture Properties as Exposed by Silverlight Applications
    			and Assistive Technologies | WCAG 2.0 達成方法集
              </title><link rel="stylesheet" type="text/css" href="https://www.w3.org/StyleSheets/TR/2016/W3C-WG-NOTE.css"/><link rel="stylesheet" type="text/css" href="additional.css"/><link rel="stylesheet" type="text/css" href="slicenav.css"/></head><body class="slices toc-inline">
<div><p>【注意】この文書にはより新しいバージョンが存在します: <a href="/translations/WCAG21/Techniques/">WCAG 2.1 達成方法集</a></p>
</div>

<div id="masthead"><p class="logo"><a href="https://www.w3.org/"><img width="72" height="48" alt="W3C" src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C"/></a></p><p class="collectiontitle"><a href="Overview.html">WCAG 2.0 達成方法集</a></p></div><div id="skipnav"><p class="skipnav"><a href="#maincontent">Skip to Content (Press Enter)</a></p></div><a name="top"> </a><!-- TOP NAVIGATION BAR --><ul id="navigation"><li><strong><a href="Overview.html#contents" title="Table of Contents">目次</a></strong></li><li><strong><a href="intro.html" title="Introduction to Techniques for WCAG 2.0"><abbr title="Introduction">イントロダクション</abbr></a></strong></li><li><a title="SL26: Using LabeledBy to Associate Labels and Targets in Silverlight" href="SL26.html"><strong>前: </strong>
        達成方法 SL26</a></li><li><a title="SL28: Using Separate Text-Format Text Captions for MediaElement Content" href="SL28.html"><strong>次: </strong>
        達成方法 SL28</a></li></ul><div class="navtoc"><p>このページのコンテンツ:</p><ul id="navbar"><li><a href="#SL27-disclaimer">達成方法に関する重要な情報</a></li><li><a href="#SL27-applicability">適用 (対象)</a></li><li><a href="#SL27-description">解説</a></li><li><a href="#SL27-examples">事例</a></li><li><a href="#SL27-resources">参考リソース</a></li><li><a href="#SL27-tests">検証</a></li></ul></div><div class="skiptarget"><a id="maincontent">-</a></div> <h1><a name="SL27" id="SL27"> </a>SL27: Using Language/Culture Properties as Exposed by Silverlight Applications
    			and Assistive Technologies</h1><div id="SL27-disclaimer"><h2>達成方法に関する重要な情報</h2><p>この達成方法 (参考) の使用法と、この達成方法が WCAG 2.0 達成基準 (規定) とどのように関係するのかに関する重要な情報については、<a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/understanding-techniques.html">WCAG 達成基準の達成方法を理解する</a>を参照のこと。適用 (対象) のセクションは、その達成方法の範囲について説明しており、特定の技術に関する達成方法の存在は、その技術があらゆる状況で WCAG 2.0 を満たすコンテンツを作成するために使用できることを意味するものではない。</p></div><div class="applicability"><h2 id="SL27-applicability">適用 (対象)</h2><div class="textbody"><ul><li><p> Microsoft Silverlight, versions 3 and greater </p></li><li><p> Silverlight managed programming model and Silverlight XAML </p></li></ul></div></div><div class="note"><p><em>訳注:</em> Silverlight は、2021 年 11 月にサポートを終了する計画が Microsoft 社より公表されている (<a href="https://support.microsoft.com/ja-jp/lifecycle/search/12905">Microsoft サポート - Silverlight のライフサイクルポリシー</a>)。</p><p>WAIC では、Silverlight に関する達成方法の翻訳を行っていないが、将来もその予定がないことに留意されたい。</p></div><p class="referenced">これは、次の達成基準に関連する達成方法である:</p><ul><li><a href="https://waic.jp/docs/WCAG20/Overview.html#meaning-other-lang-id">
				達成基準 3.1.2 (一部分の言語)</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#meaning-other-lang-id">
						クイックリファレンス 3.1.2 (一部分の言語)
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/meaning-other-lang-id.html">
						達成基準 3.1.2 (一部分の言語)を理解する
					</a></li></ul></li></ul><div class="ua-issues"><h2 class="small-head" id="ua10.27.1">ユーザエージェント及び支援技術によるサポート</h2><p><a href="./ua-notes/silverlight.html#SL27">SL27 に関するユーザエージェントサポートノート</a>を参照のこと。<a href="silverlight_notes.html">Silverlight Technology Notes</a>も参照。</p></div><h2 id="SL27-description">解説</h2><div class="textbody"><p>The objective of this technique is to use the combination of HTML
    				<code>Lang</code> attribute, <code>CultureInfo</code> and <code>Language</code> to
    				correctly specify the language of the entirety of Silverlight content,
    				or of parts within the Silverlight content. </p><p>In general, Silverlight does not attempt to repurpose HTML Lang, because
    				Silverlight is not HTML. Instead, internally within the Silverlight
    				content area, Silverlight uses language definition concepts that relate
    				to XML (<code>Language</code> is a remapping of xml:lang) or .NET
    				Framework programming (<code>CultureInfo</code>). For these reasons,
    				HTML Lang techniques as described in [<a href="https://waic.jp/docs/WCAG-TECHS/H58.html" class="tech-ref">H58</a>]
    				are not useful for Silverlight programming of Silverlight-specific "parts". </p><p>What becomes important in Silverlight application programming then
    				is to make sure that the HTML language concept of Lang and the Silverlight
    				language concept of CultureInfo or Lang are not at odds with one another,
    				or reporting misinformation. In particular, application authors should
    				avoid situations where an assistive technology has HTML Lang available
    				for programmatic determination of either page or part, but the effective
    				runtime language in the Silverlight part is different. The result here
    				might be that a screen reader that changes functionality such as phonetic
    				pronunciations would not correctly read the text content from the Silverlight
    				content. Avoiding this situation is largely a matter of due diligence
    				on the part of a Silverlight application author, OR on the part of
    				the Web page author who authors surrounding HTML, in cases where a
    				Web page is embedding Silverlight content or packages that the Web
    				page's author did not actively develop and is only consuming/embedding. </p><p>The following is a general recommendation that summarizes the detailed
    				discussion in subsequent subheadings: </p><ul><li><p> If the Silverlight application does not have a strong emphasis
    				on presenting textual information with a particular language association,
    				HTML Lang should be left blank. This causes assistive technologies
    				to defer to either user agent or platform language settings. Silverlight
    				is able to determine these same language values at run time, and
    				language behavior of assistive technologies and of Silverlight is
    				kept synchronized through the use of the same external information
    				set. </p></li><li><p> If the Silverlight application DOES have a strong emphasis on
    					presenting textual information with A SINGLE particular language
    					association, HTML Lang should be assigned to report that specific
    					language either for whole page or at least for the Silverlight object
    					tag. This enables assistive technologies to pick up the value, per <a href="https://waic.jp/docs/WCAG-TECHS/H57.html" class="tech-ref">H57:
    						Using language attributes on the html element HTML</a>. Aside from
    					due diligence during development and deployment, Silverlight application
    					code might choose to enforce that its runtime CultureInfo is really
    					the same. This could be addressed with a specific HTML DOM helper
    					function. </p></li><li><p> If the Silverlight application has MULTIPLE language associations,
    						the best option is to separate the Silverlight application into object
    						parts at the HTML level, to assure that HTML Lang and intended runtime
    						language do not clash. This is particularly important if the application
    						is actively resetting CurrentCulture away from the user settings
    						of platform or user agent. For more information, see <a href="SL4.html"><em>SL4: Declaring Discrete Silverlight Objects to Specify Language Parts
    			in the HTML DOM</em></a>. </p></li></ul><div id="SL27_html-lang"><h4> HTML Lang </h4><p>When Silverlight is embedded in an HTML document with the   &lt;object&gt; element,
    					the value of the HTML <code>Lang</code> attribute of the surrounding HTML becomes
    					a factor. Browsers process the outer HTML, and the browser's processing
    					has possible influence over values reported to any DOM script that
    					acts, or to any accessibility framework that is reporting the browser
    					content. The preferred way for a Silverlight application to address <a href="https://www.w3.org/TR/UNDERSTANDING-WCAG20/meaning-doc-lang-id.html" class="understanding-ref">SC
    						3.1.1</a> is to correctly specify the HTML Lang value in the hosting
    					HTML page. This technique should be used in conjunction with <a href="https://waic.jp/docs/WCAG-TECHS/H57.html" class="tech-ref">H57:
    						Using language attributes on the html element HTML</a>. By using the
    					same language values with both techniques as a better practice, H57
    					will satisfy 3.1.1 while setting the language value of the Silverlight
    					content to match will assist authors in meeting SC 3.1.2. </p><p>The Silverlight runtime itself does not attempt to inherit language
    					settings that come from markup that is outside the Silverlight-specific
    					content. In particular, the HTML <code>Lang</code> attribute applied to the html
    					tag, Lang on host object tag, specific parameters of the Silverlight
    					object tag, all have no affect on the value of any Silverlight <code>Language</code> attribute.
    					Instead, the Silverlight <code>Language</code> defaults to the <code>CultureInfo</code> of
    					the Silverlight runtime as instantiated by HTML object tag invocation.
    					It is expected that if a Silverlight application contains extensive
    					text where language of text is a factor for assistive technology purposes,
    					developers will manually set the HTML Lang tag to match the <code>Language</code> value
    					on the Silverlight root element in XAML. Development tools might or
    					might not enforce or inform the relationship between HTML Lang and
    					Silverlight <code>Language</code>; that consideration is outside
    					the scope of Silverlight as a technology. If language is not a major
    					factor in the application, application authors should consider leaving
    					HTML Lang blank on the hosting HTML page. </p><p>You can programatically determine the value of HTML Lang of surrounding
    					HTML from within the Silverlight API, by using the DOM-bridging method <a href="https://msdn.microsoft.com/en-us/library/system.windows.browser.htmlelement.getattribute%28VS.95%29.aspx">HtmlElement.GetAttribute</a>.
    					Otherwise, this can be determined by techniques other than Silverlight's
    					(such as scripting to the HTML DOM of the hosting browser). </p></div><div id="SL27-language-property"><h4> Silverlight Language property </h4><p>
            <code>Language</code> is an attribute that is available on all
    					Silverlight objects that directly represent a UI element. Language
    					can be queried (or set) by Silverlight managed code run time, such
    					that the <code>Language</code> value can be programatically determined
    					within the Silverlight programming model. </p><p>The format of the value that is used to set <code>Language</code> is
    					based on ISO-639-1, and is thus compatible with <a href="http://www.rfc-editor.org/rfc/bcp/bcp47.txt">http://www.rfc-editor.org/rfc/bcp/bcp47.txt</a>. </p><p>
            <code>Language</code> has a behavior that parallels the behavior
    					of <code>xml:lang</code> in an XML document: if <code>Language</code> is set on
    					a parent element, all child elements inherit that <code>Language</code> value.
    					An actual <code>xml:lang</code> attribute in XAML is also valid for this purpose. </p><p>
            <code>Language</code> can be set at the root of a XAML document,
    					so that the entire UI shares the same language setting. If <code>Language</code> is
    					not explicitly set at the root by application markup, <code>Language</code> is
    					inferred per running instance, based on processing the acting <code>CultureInfo</code> at
    					run time. </p><p>However, another usage is for application authors to set <code>Language</code> on
    					a specific child element, to override the root-level or client-environment-inferred <code>Language</code> value.
    					This enables consciously embedding a content part that is deliberately
    					in a different language than the remainder of the Silverlight content. </p><p>Exactly what happens when a <code>Language</code> is set on a
    					part is not always specified, and is largely a matter of implementation
    					detail of the individual Silverlight classes that might be a "part".
    					However, as an informative generalization, the value of <code>Language</code> might
    					affect considerations such as: how white space is processed (in particular
    					CR or LF); character sets for fonts; string formatting when using APIs
    					specifically on that part. </p></div><div id="SL27_cultureinfo"><h4> CultureInfo </h4><p>
            <code>CultureInfo</code> is a concept that is relevant to .NET
    					Framework programming. This concept applies to Silverlight because
    					Silverlight uses a specific implementation of a CLR runtime that uses
    					.NET Framework principles. <code>CultureInfo</code> potentially
    					specifies both a language and a culture. This distinction becomes relevant
    					for advanced string formatting concepts that are provided in the .NET
    					Framework, such as decimal separators, dates, and currency. For example,
    					an application author might simply specify "en" if the author
    					did not care about string formatting, but might specify "en-GB" if
    					the application was using string formatting for currency values with
    					the intention of displaying Pounds Sterling as currency unit in string
    					formatting. </p><p>Silverlight applications often run using an inferred <code>CultureInfo</code> based
    					on the operating system where the user agent browser host exists (in
    					other words, the culture of the client computer where the Silverlight
    					application is run). This <code>CultureInfo</code> can be queried
    					by applications at run time; see <a href="https://msdn.microsoft.com/en-us/library/system.globalization.cultureinfo.currentculture%28VS.95%29.aspx">CultureInfo.CurrentCulture</a>.
    					Application authors can deliberately constrain the set of <code>CultureInfo</code> cases
    					that a Silverlight application can be run under, in order to verify
    					that necessary string resources for that culture are available in that
    					application. This is done by setting &lt;SupportedCultures&gt; in the
    					Silverlight project settings. If a user accesses the application on
    					a client that is outside the SupportedCultures, the application author
    					has the following choices: </p><ul><li><p> Use a fallback resource set representing a neutral culture; this
    					is enabled automatically by the Silverlight resources lookup behavior,
    					so long as the project includes resources identified as being culture-neutral.
    					This is the preferred approach. </p></li><li><p> Use client logic to detect the culture, and initiate a client-side
    						redirect to request either a different XAP or a different hosting
    						HTML page. </p></li><li><p> Trap requests at the server level by checking lang request in
    							the header. This varies between server implementations, is not a
    							Silverlight-specific technique, and is not discussed here. </p></li></ul><p>For more information, see <a href="https://msdn.microsoft.com/en-us/library/dd941932%28VS.95%29.aspx">How
    					to: Create a Build that Targets a Specific Culture</a>. </p><p>
            <code>CultureInfo</code> generally applies to the Silverlight
    					application as a whole. There are advanced techniques whereby worker
    					threads can be run as separate cultures, but that is not discussed
    					here and is not relevant because only the main UI thread has relevance
    					to Web content accessibility. So, if an application author wants to
    					declare specific language settings for a part (component, region or
    					control) of the Silverlight application, a different Silverlight-specific
    					property <code>Language</code> is used. </p></div></div><h2 class="small-head" id="SL27-examples">事例</h2><p>These examples show Silverlight behaviors that are based on interpreting
    				the <code>Language</code> property value, as a way of illustrating
    				the programmatic determination of language values specifically in the
    				Silverlight application framework. To determine HTML Lang, application
    				authors should use the HTML DOM as enabled by browser host scripting,
    				rather than Silverlight APIs. HTML DOM techniques are not shown here
    				because they are specific to browsers or scripting frameworks, not
    				to Silverlight. </p><h3 class="small-head" id="SL27-ex1">事例 1: Language set at root-level of Silverlight content, inherits</h3><div class="example"><div class="textbody"><p>This example features a XAML UI and logic that reports information
    						to demonstrate that the information is programmatically determinable.
    						This example shows determination of the <a href="https://msdn.microsoft.com/en-us/library/system.windows.frameworkelement.language%28VS.95%29.aspx">Language</a> property. </p><div class="code"><pre><code>&lt;UserControl x:Class="LangProperties.MainPage" 
   xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
   xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
   Language="en-gb"&gt;
 &lt;StackPanel x:Name="LayoutRoot" Background="White"&gt;
       &lt;Border BorderBrush="Red" BorderThickness="2"&gt;
           &lt;TextBlock Language="zh-cn" Text="（（）共" Name="t2" VerticalAlignment="Top" TextWrapping="Wrap" Height="100"/&gt;
       &lt;/Border&gt;
       &lt;Border BorderBrush="Red" BorderThickness="2"&gt;
           &lt;TextBlock Text="（（）共" Name="t3" VerticalAlignment="Top" TextWrapping="Wrap" Height="100"/&gt;
       &lt;/Border&gt;
       &lt;Button Click="button1_Click"&gt;IETF Language of this app&lt;/Button&gt;
 &lt;/StackPanel&gt;
&lt;/UserControl

private void button1_Click(object sender, RoutedEventArgs e)
{
   Button b = sender as Button;
   MessageBox.Show(b.Language.IetfLanguageTag);
   // this will be 'en-gb' because inherits from the root
}
</code></pre></div><p>This example is shown in operation in the <a href="https://www.w3.org/WAI/WCAG20/Techniques/working-examples/SL27/LangPropertiesTestPage.html">
                    working example of Language Properties</a>.</p></div></div><h3 class="small-head" id="SL27-ex2">事例 2: Determine CurrentCulture; runtime verification that CurrentCulture and the surrounding HTML's current Lang value do not report different language settings </h3><div class="example"><div class="textbody"><p>The following is an event handler that can be hooked to an object
    						lifetime event such as <code>UserControl.Loaded</code> on the Silverlight
    						XAML root. This example demonstrates property access to several of
    						the relevant language properties that are present in Silverlight and
    						shows a specific way to compare CultureInfo and Lang by a   "not
    						equals" check after constructing a CultureInfo based on the Lang
    						string. To apply this test, the hosting HTML page may need to be altered
    						to declare a specific HTML Lang; default Silverlight aspx or html test
    						pages do not declare HTML Lang. </p><div class="code"><pre><code>       private void RunLanguageDetectLogic(object sender, RoutedEventArgs e)
       {
           CultureInfo thisAppCC = CultureInfo.CurrentCulture;
           CultureInfo thisAppCUIC = CultureInfo.CurrentUICulture;
           HtmlDocument thisPage = HtmlPage.Document;
           String thisAppHTMLLang = (string) thisPage.DocumentElement.GetProperty("lang");
           CultureInfo CCFromLang = new CultureInfo(thisAppHTMLLang);
           if (CCFromLang != thisAppCC &amp;&amp; CCFromLang.ToString() !=  "")
           {
               TextBlock tb = new TextBlock();
               tb.Text += "Warning: the current culture for the run time (";
               tb.Text += thisAppCC.ToString();
               tb.Text += ") does not match the culture indicated in hosting HTML's Lang (";
               tb.Text += CCFromLang.ToString();
               tb.Text += ").";
               tb.Inlines.Add(new LineBreak());
               tb.Inlines.Add("Typical action here would be to redirect the request to an HTML page
                 where the Lang is correct for user's current culture as determined from the OS.");
               LayoutRoot.Children.Add(tb); 
               //LayoutRoot refers to the default MainPage.xaml element from a VS-template Silverlight Application
           }
       }
</code></pre></div></div></div><h2 id="SL27-resources">参考リソース</h2><div class="textbody"><p>この参考リソースは、あくまでも情報提供のみが目的であり、推薦などを意味するものではない。</p><ul><li><p>
                  <a href="https://msdn.microsoft.com/en-us/library/cc838238(VS.95).aspx">Localizing
    						Silverlight-based Applications</a> 
               </p></li></ul></div><h2 id="SL27-tests">検証</h2><div class="textbody"><h3 class="small-head" id="SL27-procedure">手順</h3><ol class="enumar"><li><p> Using a browser that supports Silverlight, open an HTML page that
    					references a Silverlight application through an object tag. </p></li><li><p> Verify that language settings are respected by individual Silverlight
    						control characteristics. (Exactly what behavior manifests the language
    						difference varies per Silverlight class implementation. For some
    						testing ideas, see <a href="https://msdn.microsoft.com/en-us/library/cc853414(VS.95).aspx">Creating
    							Globally Aware Applications</a>). </p></li><li><p> Verify that any interaction between HTML Lang in the HTML and
    								the Language or CultureInfo from the Silverlight application do not
    								result in a clash of language information, either in terms of basic
    								application behavior or in how an assistive technology decides to
    								process language information. </p></li></ol><h3 class="small-head" id="SL27-results">期待される結果</h3><p>#2 and #3 are true. </p><p>この達成方法が「十分な達成方法」の一つである場合、この手順や期待される結果を満たしていなければ、それはこの達成方法が正しく用いられていないことを意味するが、必ずしも達成基準を満たしていないことにはならない。場合によっては、別の達成方法によってその達成基準が満たされていることもありうる。</p></div><!-- BOTTOM NAVIGATION BAR --><ul id="navigationbottom"><li><strong><a href="#top">このページの先頭へ</a></strong></li><li><strong><a href="Overview.html#contents" title="Table of Contents">目次</a></strong></li><li><strong><a href="intro.html" title="Introduction to Techniques for WCAG 2.0"><abbr title="Introduction">イントロダクション</abbr></a></strong></li><li><a title="SL26: Using LabeledBy to Associate Labels and Targets in Silverlight" href="SL26.html"><strong>前: </strong>
        達成方法 SL26</a></li><li><a title="SL28: Using Separate Text-Format Text Captions for MediaElement Content" href="SL28.html"><strong>次: </strong>
        達成方法 SL28</a></li></ul><div class="footer"><p class="copyright">このウェブページは、<a href="Overview.html">WCAG 2.0 達成方法集: WCAG 2.0 の達成方法と失敗例</a> (<a href="https://www.w3.org/TR/WCAG20-TECHS/SL27.html">この文書の最新版 (英語)</a> を参照してください) の一部です。文書全体を<a href="complete.html">単一 HTML ファイルにしたもの</a>もご利用いただけます。この文書と、Web Content Accessibility Guidelines (WCAG) 2.0 に関連する他の文書との関係については、<a href="http://www.w3.org/WAI/intro/wcag20">The WCAG 2.0 Documents</a> をご覧ください。パブリックコメントを送るには、<a href="http://www.w3.org/WAI/WCAG20/comments/">Instructions for Commenting on WCAG 2.0 Documents</a> に従ってください。</p><p class="copyright"><a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2016 <a href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>). W3C <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply.</p><p>【注意】 この文書は、W3C ワーキンググループノート <a href="https://www.w3.org/TR/2016/NOTE-WCAG20-TECHS-20161007/">Techniques for WCAG 2.0 の 2016 年 10 月 7 日時点での最新版</a>を<a href="https://waic.jp/committee/wg4/">ウェブアクセシビリティ基盤委員会 (WAIC)</a> が翻訳して公開しているものです。この文書の正式版は、W3C のサイトにある英語版です。正確な内容については、W3C が公開している原文 (英語) をご確認ください。この翻訳文書はあくまで参考情報であり、翻訳上の誤りが含まれていることがあります。翻訳上の誤りを見つけられた場合は、<a href="https://waic.jp/contact/" id="file-issue">翻訳に関するお問い合わせ</a>からご連絡ください。</p><p>【重要】 達成方法のタイトルが英語のままになっているものは、日本語訳を行っていないため、原文 (英語) にリンクしています。</p></div><script src="https://waic.jp/docs/js/translation-contact.js"> </script></body></html>