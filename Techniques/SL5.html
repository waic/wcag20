
<!DOCTYPE html
  >
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja" xml:lang="ja"><head><meta charset="UTF-8"/><title>SL5: Defining a Focusable Image Class for Silverlight | WCAG 2.0 達成方法集
              </title><link rel="stylesheet" type="text/css" href="https://www.w3.org/StyleSheets/TR/2016/W3C-WG-NOTE.css"/><link rel="stylesheet" type="text/css" href="additional.css"/><link rel="stylesheet" type="text/css" href="slicenav.css"/></head><body class="slices toc-inline"><div id="masthead"><p class="logo"><a href="https://www.w3.org/"><img width="72" height="48" alt="W3C" src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C"/></a></p><p class="collectiontitle"><a href="Overview.html">WCAG 2.0 達成方法集</a></p></div><div id="skipnav"><p class="skipnav"><a href="#maincontent">Skip to Content (Press Enter)</a></p></div><a name="top"> </a><!-- TOP NAVIGATION BAR --><ul id="navigation"><li><strong><a href="Overview.html#contents" title="Table of Contents">目次</a></strong></li><li><strong><a href="intro.html" title="Introduction to Techniques for WCAG 2.0"><abbr title="Introduction">イントロダクション</abbr></a></strong></li><li><a title="SL4: Declaring Discrete Silverlight Objects to Specify Language Parts&#xA;    &#x9;&#x9;&#x9;in the HTML DOM" href="SL4.html"><strong>前: </strong>
        達成方法 SL4</a></li><li><a title="SL6: Defining a UI Automation Peer for a Custom Silverlight Control" href="SL6.html"><strong>次: </strong>
        達成方法 SL6</a></li></ul><div class="navtoc"><p>このページのコンテンツ:</p><ul id="navbar"><li><a href="#SL5-disclaimer">達成方法に関する重要な情報</a></li><li><a href="#SL5-applicability">適用（対象）</a></li><li><a href="#SL5-description">解説</a></li><li><a href="#SL5-examples">事例</a></li><li><a href="#SL5-resources">参考リソース</a></li><li><a href="#SL5-related-techs">関連する達成方法</a></li><li><a href="#SL5-tests">検証</a></li></ul></div><div class="skiptarget"><a id="maincontent">-</a></div> <h1><a name="SL5" id="SL5"> </a>SL5: Defining a Focusable Image Class for Silverlight</h1><div id="SL5-disclaimer"><h2>達成方法に関する重要な情報</h2><p>これらの達成方法(参考)の使用法及び、それらがWCAG 2.0 達成基準(規定)とどのように関係するかに関する重要な情報については、<a href="http://waic.jp/docs/UNDERSTANDING-WCAG20/understanding-techniques.html">WCAG 達成基準の達成方法を理解する</a>を参照のこと。適用（対象）セクションは、その達成方法の範囲について説明しており、特定の技術に関する達成方法があるからといって、WCAG 2.0 を満たすコンテンツを作成する際に、常にその技術が使用可能であるわけではない。</p></div><div class="applicability"><h2 id="SL5-applicability">適用（対象）</h2><div class="textbody"><ul><li><p> Microsoft Silverlight, versions 3 and greater </p></li><li><p> Silverlight managed programming model and Silverlight XAML </p></li></ul></div></div><p class="referenced">これは、次の達成基準に関連する達成方法である:</p><ul><li><a href="http://waic.jp/docs/WCAG20/Overview.html#text-equiv-all">
				達成基準 1.1.1 (非テキストコンテンツ)</a><ul><li><a href="http://waic.jp/docs/WCAG20/quickref/#text-equiv-all">
						How to Meet 1.1.1 (非テキストコンテンツ)
					</a></li><li><a href="http://waic.jp/docs/UNDERSTANDING-WCAG20/text-equiv-all.html">
						達成基準 1.1.1 (非テキストコンテンツ)を理解する
					</a></li></ul></li></ul><div class="ua-issues"><h2 class="small-head" id="ua10.5.1">ユーザエージェント及び支援技術によるサポート</h2><p><a href="https://www.w3.org/WAI/WCAG20/Techniques/ua-notes/silverlight#SL5">SL5 に関するユーザエージェントサポートノート (英語)</a>を参照のこと。<a href="silverlight_notes.html">Silverlight Technology Notes</a>も参照。</p></div><h2 id="SL5-description">解説</h2><div class="textbody"><p>The objective of this technique is to wrap the Silverlight <code>Image</code> class
    				inside a UI container class that is focusable. If the image is focusable,
    				users who use the TAB sequence to navigate content while the assistive
    				technology is active, and/or assistive technologies that construct
    				navigation structures that are based on the TAB sequence, can both
    				detect the image in navigation. The assistive technology can then associate
    				alternative text for that image within the navigation structure, and
    				report the information to the user. </p><p>Many existing assistive technologies do not construct initial navigation
    				views that are derived from UI Automation information if it is coming
    				from a non-focusable element in a Silverlight user interface. This
    				is particularly true if the assistive technology is in a navigation
    				mode that is specifically intended to help users enter information
    				into a form or similar interactive interface element; an example of
    				this situation is the Forms Mode of the JAWS screen reader. </p><p>
         <a href="https://msdn.microsoft.com/en-us/library/system.windows.controls.image%28VS.95%29.aspx">Image</a> is
    				an example of a Silverlight element that is not focusable. This technique
    				and the example therein are intended to circumvent the possible omission
    				of a nonfocusable Silverlight <code>Image</code> element from certain
    				navigation views in existing assistive technology implementations.
    				The Silverlight <code>Image</code> is wrapped with a display/viewer
    				control class that is focusable. This image-wrapping control is initially
    				presented in assistive technology representations of a Silverlight
    				user interface that use only focusable elements when constructing the
    				assistive technology's representation of the application. </p><p>The image wrapper class uses the <code>AutomationProperties.Name</code> property
    				to provide a short text alternative for the contained <code>Image</code>,
    				so that the alternative text can be read or otherwise presented by
    				assistive technologies. The Silverlight API <code>AutomationProperties.Name</code> directly
    				sets <code>Name</code> in the UI Automation tree. The properties
    				in the UI Automation tree are reported to assistive technologies, when
    				the assistive technology implements behavior that acts as a UI Automation
    				client. <code>Name</code> is one of the accessibility framework
    				properties that most assistive technologies present in some way, for
    				purposes of both name and value information, and setting <code>Name</code> is
    				the common technique for exposing text alternatives for any other <code>Control</code> class
    				(for example, for a button with an image, as shown in the technique <a href="SL18.html"><em>SL18: Providing Text Equivalent for Nontext Silverlight Controls With AutomationProperties.Name</em></a>). </p><p>This technique is intended for cases where application authors deliberately
    				do not want a visible image caption for the image to be part of the
    				user interface, and the image is a part of a larger interactive user
    				interface control or page. Otherwise, if there is a visible caption,
    				authors can use <a href="SL26.html"><em>SL26: Using LabeledBy to Associate Labels and Targets in Silverlight</em></a>. </p></div><h2 class="small-head" id="SL5-examples">事例</h2><p>The two examples are intended to be used together, if an application
    				is both defining and consuming the focusable image control. </p><h3 class="small-head" id="SL5-ex1">事例 1: Defining the FocusableImage XAML template and C# code
    					behavior</h3><div class="example"><div class="textbody"><p>Silverlight supports a control development model whereby the visual
    						appearance of a control is largely defined in XAML, and the behavior
    						of a control (such as its event handling and hookups to services) are
    						implemented in a managed code language such as C#. The following is
    						the XAML template, which includes a visual state that shows visually
    						when the control is focused in UI. </p><div class="code"><pre><code>&lt;ResourceDictionary
xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
xmlns:local="clr-namespace:ImageEquivalent"&gt;
 &lt;Style TargetType="local:FocusableImage"&gt;
   &lt;Setter Property="Template"&gt;
    &lt;Setter.Value&gt;
      &lt;ControlTemplate TargetType="local:FocusableImage"&gt;
        &lt;Grid&gt;
          &lt;VisualStateManager.VisualStateGroups&gt;
            &lt;VisualStateGroup x:Name="FocusStates"&gt;
              &lt;VisualState x:Name="Focused"&gt;
                &lt;Storyboard&gt;
                  &lt;ColorAnimation  
 Storyboard.TargetName="focusborder"
 Storyboard.TargetProperty="(Border.BorderBrush).(SolidColorBrush.Color)"
 Duration="0" To="Blue"/&gt;
                &lt;/Storyboard&gt;
              &lt;/VisualState&gt;
              &lt;VisualState x:Name="Unfocused"/&gt;
            &lt;/VisualStateGroup&gt;
          &lt;/VisualStateManager.VisualStateGroups&gt;
          &lt;Border
            x:Name="focusborder"
            BorderThickness="4"
            BorderBrush="Transparent"&gt;
            &lt;Image
             Margin="2" Opacity="10"
             Source="{TemplateBinding Source}"/&gt;
         &lt;/Border&gt;
       &lt;/Grid&gt;
    &lt;/ControlTemplate&gt;
    &lt;/Setter.Value&gt;
   &lt;/Setter&gt;
 &lt;/Style&gt;
&lt;/ResourceDictionary&gt;
</code></pre></div><p>The following is the C# class definition and logic. The logic includes
    						invoking a default automation peer on creation, and loading the template
    						as defined in the previous XAML example through the Silverlight "generic.xaml" resource
    						convention for custom controls. </p><div class="code"><pre><code>namespace ImageEquivalent
{
   public class FocusableImage : Control
   {
       protected override System.Windows.Automation.Peers.AutomationPeer OnCreateAutomationPeer()
       {
           return new FrameworkElementAutomationPeer(this);
       }
       public FocusableImage()
       {
           this.DefaultStyleKey = typeof(FocusableImage);
       }
       public ImageSource Source
       {
           get { return (ImageSource)this.GetValue(SourceProperty); }
           set { this.SetValue(SourceProperty,value); }
       }
       public static DependencyProperty SourceProperty = DependencyProperty.Register(
         "Source",
         typeof(ImageSource),
         typeof(FocusableImage),
         null);
       Boolean _Focused;
       void ChangeState()
       {
           if (_Focused)
           {
               VisualStateManager.GoToState(this,"Focused",false);
           }
           else
           {
               VisualStateManager.GoToState(this,"Unfocused",false);
           }
       }
       protected override void OnGotFocus(RoutedEventArgs e)
       {
           base.OnGotFocus(e);
           this._Focused = true;
           ChangeState();
       }
       protected override void OnLostFocus(RoutedEventArgs e)
       {
           base.OnGotFocus(e);
           this._Focused = false;
           ChangeState();
       }
   }
}
</code></pre></div><p>This example is shown in operation in the <a href="/WAI/WCAG20/Techniques/working-examples/SL5/ImageEquivalentTestPage.html" class="ex-ref">working example of Focusable Image</a>.</p></div></div><h3 class="small-head" id="SL5-ex2">事例 2: Using the FocusableImage class in UI and applying AutomationProperties.Name</h3><div class="example"><div class="textbody"><p>Now that the image is wrapped by a focusable control, you can instantiate
    						an instance of the wrapper UI inside a Silverlight layout container,
    						specify <code>AutomationProperties.Name</code> at the level of
    						the wrapper control’s tag, and have that text serve as the alternative
    						text for the referenced source image file. </p><div class="code"><pre><code>   &lt;StackPanel
   xmlns:local="clr-namespace:ImageEquivalent;assembly=FocusableImage"
   &gt;
   &lt;local:FocusableImage
     Height="300" Width="400
     AutomationProperties.Name="Diagram of secret lair"
     Source="/diagram_lair.png" /&gt;
   &lt;/StackPanel&gt;
</code></pre></div></div></div><h2 id="SL5-resources">参考リソース</h2><div class="textbody"><p>この参考リソースは、あくまでも情報提供のみが目的であり、推薦などを意味するものではない。</p><ul><li><p>
                  <a href="https://msdn.microsoft.com/en-us/library/ff400332%28VS.95%29.aspx">Automation
    						Properties for Accessibility Support in UI</a> 
               </p></li><li><p>
                  <a href="https://msdn.microsoft.com/en-us/library/system.windows.automation.automationproperties.name%28VS.95%29.aspx">AutomationProperties.Name
    					Attached Property</a> 
               </p></li><li><p>Tools: <a href="http://firstfloorsoftware.com/silverlightspy">SilverlightSpy</a> or <a href="http://uiautomationverify.codeplex.com/">UIAVerify</a> 
               </p></li></ul></div><h2 id="SL5-related-techs">関連する達成方法</h2><div class="textbody"><ul><li><a href="H37.html">H37: img 要素の alt 属性を使用する</a></li></ul></div><h2 id="SL5-tests">検証</h2><div class="textbody"><h4 class="small-head">Automation Tree</h4><h3 class="small-head" id="SL5-procedure">チェックポイント</h3><ol class="enumar"><li><p> Open the test HTML page in a Silverlight-supported useragent host;
    					to use UI Automation, use Microsoft Windows as platform. </p></li><li><p> Use the tab sequence inside the Silverlight content area to focus
    						the control. </p></li><li><p> Using an accessibility framework verification tool, check that
    							the string content is promoted as the default <code>Name</code> applied
    							to the control. </p></li></ol><div class="note"><p class="prefix"><em>注記: </em>Accessibility framework verification tools typically show the
    					entirety of an automation tree for a given application, and in fact
    					will show the tree for all applications running on the Windows client
    					machine. Focusing the control as in #2 is thus not strictly speaking
    					necessary. However, manually focusing using the application interface
    					is often a faster way to step into the automation tree as opposed to
    					having to open an extensive series of nested nodes starting from the
    					browser host application root. Whether this functionality exists depends
    					on which accessibility framework verification tool is being used for
    					testing. </p></div><h3 class="small-head" id="SL5-results">判定基準</h3><p>#3 is true. </p><p>この達成方法が「十分な達成方法」の一つである場合、このチェックポイントや判定基準を満たしていなければ、それはこの達成方法が正しく用いられていないことを意味するが、必ずしも達成基準を満たしていないことにはならない。場合によっては、別の達成方法によってその達成基準が満たされていることもありうる。</p></div><h2 id="SL5-tests-2">検証</h2><div class="textbody"><h4 class="small-head">Screen Reader</h4><h3 class="small-head" id="SL5-2-procedure">チェックポイント</h3><ol class="enumar"><li><p> Using a browser that supports Silverlight, open an HTML page that
    					references a Silverlight application through an object tag. To use
    					UI Automation, use Microsoft Windows as platform. </p></li><li><p> Engage the screen reader. Move focus to the control (for example,
    						use the tab sequence). </p></li><li><p> Check that the <code>Name</code> applied to the image is read
    							by the screen reader. </p></li></ol><h3 class="small-head" id="SL5-2-results">判定基準</h3><p>#3 is true. </p><p>この達成方法が「十分な達成方法」の一つである場合、このチェックポイントや判定基準を満たしていなければ、それはこの達成方法が正しく用いられていないことを意味するが、必ずしも達成基準を満たしていないことにはならない。場合によっては、別の達成方法によってその達成基準が満たされていることもありうる。</p></div><!-- BOTTOM NAVIGATION BAR --><ul id="navigationbottom"><li><strong><a href="#top">このページの先頭へ</a></strong></li><li><strong><a href="Overview.html#contents" title="Table of Contents">目次</a></strong></li><li><strong><a href="intro.html" title="Introduction to Techniques for WCAG 2.0"><abbr title="Introduction">イントロダクション</abbr></a></strong></li><li><a title="SL4: Declaring Discrete Silverlight Objects to Specify Language Parts&#xA;    &#x9;&#x9;&#x9;in the HTML DOM" href="SL4.html"><strong>前: </strong>
        達成方法 SL4</a></li><li><a title="SL6: Defining a UI Automation Peer for a Custom Silverlight Control" href="SL6.html"><strong>次: </strong>
        達成方法 SL6</a></li></ul><div class="footer"><p class="copyright">このウェブページは、<a href="Overview.html">WCAG 2.0 達成方法集: WCAG 2.0 の達成方法と不適合事例</a>（<a href="https://www.w3.org/TR/WCAG20-TECHS/SL5.html">この文書の最新版（英語）</a>を参照してください）の一部です。文書全体を<a href="complete.html">単一HTMLファイルにしたもの</a>もご利用いただけます。この文書と、ウェブ・コンテンツ・アクセシビリティ・ガイドライン (WCAG) 2.0に関連する他の文書との関係については、<a href="http://www.w3.org/WAI/intro/wcag20">The WCAG 2.0 Documents (英語)</a>をご覧ください。パブリックコメントを送るには、<a href="http://www.w3.org/WAI/WCAG20/comments/">Instructions for Commenting on WCAG 2.0 Documents（英語）</a>に従ってください。</p><p class="copyright"><a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2016 <a href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>). W3C <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply.</p><p>【注意】 この文書は、W3C ワーキンググループノート <a href="https://www.w3.org/TR/2016/NOTE-WCAG20-TECHS-20161007/">Techniques for WCAG 2.0 の2016年10月7日時点での最新版</a>を<a href="http://waic.jp/committee/wg4/">ウェブアクセシビリティ基盤委員会 (WAIC)</a> が翻訳して公開しているものです。この文書の正式版は、W3C のサイトにある英語版です。正確な内容については、W3C が公開している原文 (英語) をご確認ください。この翻訳文書はあくまで参考情報であり、翻訳上の誤りが含まれていることがあります。翻訳上の誤りを見つけられた場合は、<a href="http://waic.jp/contact/">翻訳に関するお問い合わせ</a>からご連絡ください。</p><p>【重要】 達成方法のタイトルが英語のままになっているものは、日本語訳を行っていないため、原文 (英語) にリンクしています。</p></div></body></html>