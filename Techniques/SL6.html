
<!DOCTYPE html
  >
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja" xml:lang="ja"><head><meta charset="UTF-8"/><title>SL6: Defining a UI Automation Peer for a Custom Silverlight Control | WCAG 2.0 達成方法集
              </title><link rel="stylesheet" type="text/css" href="https://www.w3.org/StyleSheets/TR/2016/W3C-WG-NOTE.css"/><link rel="stylesheet" type="text/css" href="additional.css"/><link rel="stylesheet" type="text/css" href="slicenav.css"/></head><body class="slices toc-inline">
<div><p>【注意】この文書にはより新しいバージョンが存在します: <a href="/translations/WCAG21/Techniques/">WCAG 2.1 達成方法集</a></p>
</div>

<div id="masthead"><p class="logo"><a href="https://www.w3.org/"><img width="72" height="48" alt="W3C" src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C"/></a></p><p class="collectiontitle"><a href="Overview.html">WCAG 2.0 達成方法集</a></p></div><div id="skipnav"><p class="skipnav"><a href="#maincontent">Skip to Content (Press Enter)</a></p></div><a name="top"> </a><!-- TOP NAVIGATION BAR --><ul id="navigation"><li><strong><a href="Overview.html#contents" title="Table of Contents">目次</a></strong></li><li><strong><a href="intro.html" title="Introduction to Techniques for WCAG 2.0"><abbr title="Introduction">イントロダクション</abbr></a></strong></li><li><a title="SL5: Defining a Focusable Image Class for Silverlight" href="SL5.html"><strong>前: </strong>
        達成方法 SL5</a></li><li><a title="SL7: Designing a Focused Visual State for Custom Silverlight Controls" href="SL7.html"><strong>次: </strong>
        達成方法 SL7</a></li></ul><div class="navtoc"><p>このページのコンテンツ:</p><ul id="navbar"><li><a href="#SL6-disclaimer">達成方法に関する重要な情報</a></li><li><a href="#SL6-applicability">適用 (対象)</a></li><li><a href="#SL6-description">解説</a></li><li><a href="#SL6-examples">事例</a></li><li><a href="#SL6-resources">参考リソース</a></li><li><a href="#SL6-related-techs">関連する達成方法</a></li><li><a href="#SL6-tests">検証</a></li></ul></div><div class="skiptarget"><a id="maincontent">-</a></div> <h1><a name="SL6" id="SL6"> </a>SL6: Defining a UI Automation Peer for a Custom Silverlight Control</h1><div id="SL6-disclaimer"><h2>達成方法に関する重要な情報</h2><p>この達成方法 (参考) の使用法と、この達成方法が WCAG 2.0 達成基準 (規定) とどのように関係するのかに関する重要な情報については、<a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/understanding-techniques.html">WCAG 達成基準の達成方法を理解する</a>を参照のこと。適用 (対象) のセクションは、その達成方法の範囲について説明しており、特定の技術に関する達成方法の存在は、その技術があらゆる状況で WCAG 2.0 を満たすコンテンツを作成するために使用できることを意味するものではない。</p></div><div class="applicability"><h2 id="SL6-applicability">適用 (対象)</h2><div class="textbody"><ul><li><p> Microsoft Silverlight, versions 3 and greater </p></li><li><p> Silverlight managed programming model and Silverlight XAML </p></li></ul></div></div><div class="note"><p><em>訳注:</em> Silverlight は、2021 年 11 月にサポートを終了する計画が Microsoft 社より公表されている (<a href="https://support.microsoft.com/ja-jp/lifecycle/search/12905">Microsoft サポート - Silverlight のライフサイクルポリシー</a>)。</p><p>WAIC では、Silverlight に関する達成方法の翻訳を行っていないが、将来もその予定がないことに留意されたい。</p></div><p class="referenced">これは、次の達成基準に関連する達成方法である:</p><ul><li><a href="https://waic.jp/docs/WCAG20/Overview.html#ensure-compat-rsv">
				達成基準 4.1.2 (名前 (name) ・役割 (role) 及び値 (value) )</a><ul><li><a href="https://waic.jp/docs/WCAG20/quickref/#ensure-compat-rsv">
						クイックリファレンス 4.1.2 (名前 (name) ・役割 (role) 及び値 (value) )
					</a></li><li><a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/ensure-compat-rsv.html">
						達成基準 4.1.2 (名前 (name) ・役割 (role) 及び値 (value) )を理解する
					</a></li></ul></li></ul><div class="ua-issues"><h2 class="small-head" id="ua10.6.1">ユーザエージェント及び支援技術によるサポート</h2><p><a href="./ua-notes/silverlight.html#SL6">SL6 に関するユーザエージェントサポートノート</a>を参照のこと。<a href="silverlight_notes.html">Silverlight Technology Notes</a>も参照。</p></div><h2 id="SL6-description">解説</h2><div class="textbody"><p>The objective of this technique is to create an <code>AutomationPeer</code> class
    				for a custom Silverlight control. The <code>AutomationPeer</code> exposes
    				accessibility properties of the control in a way that abstracts the
    				Silverlight technology specifics of the control model and maps information
    				to UI Automation concepts, so that these properties can be consumed
    				by the UI Automation accessibility framework. </p><p>The AutomationPeer concept is part of the overall architecture design
    				of the UI Automation system. The peer represents a deliberate abstraction
    				of the control, such that a client can obtain pattern-based information
    				about the specific purpose and capability of a control without knowing
    				its implementation-specific object model or having to resort to using
    				a framework-specific object model API. Also, the peers run in a different
    				process than the controls they represent, which has performance and
    				security advantages. For more information on UI Automation architecture,
    				see <a href="https://msdn.microsoft.com/en-us/library/ms747327.aspx">UI
    					Automation Overview on MSDN</a>. </p><p>Creating a custom Silverlight control is one way that Silverlight
    				application authors can create user interface components either for
    				their own application, or as a packaged redistributable that provides
    				the control UI for third parties. Creating an automation peer for a
    				custom control reports control-specific information to the UI Automation
    				accessibility framework, and enables a custom control to participate
    				in all of the same techniques involving UI Automation that can be used
    				for a control that is distributed in the core Silverlight run time.
    				Assistive technologies can use the UI Automation accessibility framework
    				to discover the name and role of the user interface component, and
    				can get and set values by accessing UI Automation patterns. UI Automation
    				thus supports extensibility, while maintaining a discovery system for
    				names, roles and values of UI components. </p><p>Control authors associate a peer with a class by implementing a method
    				override for the class implementation. Control authors declare name
    				and role through properties that are general to any UI Automation peer.
    				Control authors expose the means to get and set values by choosing
    				to support one or more patterns that are usually associated with a
    				role. For example, a control in the role of "Button" would
    				typically support an "Invoke" pattern. A consumer of UI Automation
    				could check whether the pattern was supported and then call the pattern-based
    				method <code>Invoke</code>, which would activate the button without
    				any device input events being produced or required. </p><p>By convention, controls and their automation peers share a naming
    				pattern. For example, if a control is named <code>Spinner</code>, its automation
    				peer is named <code>SpinnerPeer</code>. However, the actual wiring for the class-peer
    				association is made in the control code by overriding <code>OnCreateAutomationPeer</code>.
    				Thus it is necessary to have access to the control code in order to
    				associate a new peer class implementation with that control. </p><p>In addition to properties, automation peers can also expose methods
    				as part of the implemented UI Automation control pattern. For example,
    				a peer implementing the Value pattern can provide an implementation
    				of the <code>SetValue</code> method. The <code>SetValue</code> method
    				can be called by a UI Automation client in order to programmatically
    				set the value of the owner control. The functionality exposed by the
    				implementation of a control pattern can be accessed either by automation-based
    				testing, or by assistive technologies. </p></div><h2 class="small-head" id="SL6-examples">事例</h2><h3 class="small-head" id="SL6-ex1">事例 1: SimpleNumericUpDown control and its peer</h3><div class="example"><div class="textbody"><p>The example implements a very simple Silverlight custom control named
    						SimpleNumericUpDown. The control is a templateable control, meaning
    						that the UI is defined in a XAML file that serves as the default UI,
    						but any consumer of the control can change the visual appearance by
    						applying a new template. Nevertheless, the basic accessibility characteristics
    						of the control can be shaped by the control author, and can apply even
    						for cases where the visible UI is noticably different. This separation
    						between design-implementation and code-behavior is one reason for the
    						peer-owner design in UI Automation. The majority of the example shows
    						the C# code, including the following : </p><ul><li><p> Associating the peer with the class. </p></li><li><p> Defining the peer, and basic information such as the class name. </p></li><li><p> Reporting which patterns the peer supports. In this case the peer
    						supports a Value pattern. </p></li></ul><p>Control definition class: </p><div class="code"><pre><code>   public class SimpleNumericUpDown : Control
   {
       public SimpleNumericUpDown()
       {
           this.DefaultStyleKey = typeof(SimpleNumericUpDown);
       protected override System.Windows.Automation.Peers.AutomationPeer OnCreateAutomationPeer()
       {
           return new SimpleNumericUpDownAutomationPeer(this);
       }
 // templating and event handlers omitted
       public static DependencyProperty NumericValueProperty = DependencyProperty.Register(
           "NumericValue",
           typeof(Int32),
           typeof(SimpleNumericUpDown),
           new PropertyMetadata(0)
           );
       public Int32 NumericValue
       {
           get { return (Int32)this.GetValue(NumericValueProperty); }
           set {this.SetValue(NumericValueProperty,value);}
       }
   }
   </code></pre></div><p>Automation peer definition: </p><div class="code"><pre><code>   public class SimpleNumericUpDownAutomationPeer : FrameworkElementAutomationPeer, IValueProvider
   {
       private SimpleNumericUpDown OwnerControl { get { return (SimpleNumericUpDown)Owner; } }
       public SimpleNumericUpDownAutomationPeer(SimpleNumericUpDown owner)
           : base(owner) {}
       //peer overrides
       protected override string GetClassNameCore()
       {
           return "SimpleNumericUpDown";
       }
       protected override AutomationControlType GetAutomationControlTypeCore()
       {
           return AutomationControlType.Spinner;
       }
       public override object GetPattern(PatternInterface patternInterface) {
           if (patternInterface == PatternInterface.Value)
           {
               return this;
           }
           return base.GetPattern(patternInterface);
       }
       // Value pattern implementation
       String IValueProvider.Value
       {
           get { return OwnerControl.NumericValue.ToString(); }
       }
       bool IValueProvider.IsReadOnly {get{return false;}}
       void IValueProvider.SetValue(string value)
       {
           OwnerControl.NumericValue = Convert.ToInt32(value);
       }
</code></pre></div><p>This example is shown in operation in the <a href="https://www.w3.org/WAI/WCAG20/Techniques/working-examples/SL6/SimpleNumericUpDownTestPage.html">
                    working example of Simple Numeric UpDown control</a>.</p></div></div><h2 id="SL6-resources">参考リソース</h2><div class="textbody"><p>この参考リソースは、あくまでも情報提供のみが目的であり、推薦などを意味するものではない。</p><ul><li><p>
                  <a href="https://msdn.microsoft.com/en-us/library/cc645045(VS.95).aspx">UI
    						Automation of a Silverlight Custom Control</a> 
               </p></li><li><p>
                  <a href="https://msdn.microsoft.com/en-us/library/system.windows.automation.peers.frameworkelementautomationpeer%28VS.95%29.aspx">FrameworkElementAutomationPeer</a> 
               </p></li><li><p>
                  <a href="https://msdn.microsoft.com/en-us/library/ms753388.aspx">Accessibility</a> 
               </p></li><li><p>Tools: <a href="http://firstfloorsoftware.com/silverlightspy">SilverlightSpy</a> or <a href="http://uiautomationverify.codeplex.com/">UIAVerify</a> 
               </p></li></ul></div><h2 id="SL6-related-techs">関連する達成方法</h2><div class="textbody"><ul><li><a href="G10.html">G10: 名前 (name) 及び役割 (role) を取得し、利用者が設定可能なプロパティを直接設定可能にし、変化を通知するためにユーザエージェントが動作する、プラットフォームのアクセシビリティ API 機能をサポートするウェブコンテンツ技術を用いて、コンポーネントを作成する</a></li></ul></div><h2 id="SL6-tests">検証</h2><div class="textbody"><h3 class="small-head" id="SL6-procedure">手順</h3><ol class="enumar"><li><p> Using a browser that supports Silverlight, open an HTML page that
    					references a Silverlight application through an object tag. To see
    					UI Automation, use Microsoft Windows as platform. </p></li><li><p> Use a verification tool that is capable of showing the full automation
    						tree, and an object’s UI Automation properties and patterns as part
    						of the tree. (For example, use UIAVerify or Silverlight Spy; see
    						Resources links.) Select the item in the automation tree that is
    						accessing the relevant custom automation peer implementation. </p></li><li><p> Examine the set of properties exposed in the tree. Check that
    							name is reported by Name, that the class name is reported as ClassName,
    							and that there is a role as reported by the value of ControlType. </p></li><li><p> If the control is expected to report a value, check that the value
    								is reported in the tree somehow. (Exactly which property reports
    								the value varies depending on the control function and pattern; for
    								more information, see <a href="https://msdn.microsoft.com/en-us/library/ff486375%28VS.85%29.aspx">Windows
    									Automation API</a>). </p></li><li><p> Check whether a control pattern is reported in the tree. If a
    										control pattern is reported, test the methods of that pattern using
    										facilities in the verification tool. Verify that invoking the methods
    										has changed the corresponding read only property values in the tree. </p></li></ol><h3 class="small-head" id="SL6-results">期待される結果</h3><p>#3, #4, and #5 (if applicable) are true. </p><p>この達成方法が「十分な達成方法」の一つである場合、この手順や期待される結果を満たしていなければ、それはこの達成方法が正しく用いられていないことを意味するが、必ずしも達成基準を満たしていないことにはならない。場合によっては、別の達成方法によってその達成基準が満たされていることもありうる。</p></div><!-- BOTTOM NAVIGATION BAR --><ul id="navigationbottom"><li><strong><a href="#top">このページの先頭へ</a></strong></li><li><strong><a href="Overview.html#contents" title="Table of Contents">目次</a></strong></li><li><strong><a href="intro.html" title="Introduction to Techniques for WCAG 2.0"><abbr title="Introduction">イントロダクション</abbr></a></strong></li><li><a title="SL5: Defining a Focusable Image Class for Silverlight" href="SL5.html"><strong>前: </strong>
        達成方法 SL5</a></li><li><a title="SL7: Designing a Focused Visual State for Custom Silverlight Controls" href="SL7.html"><strong>次: </strong>
        達成方法 SL7</a></li></ul><div class="footer"><p class="copyright">このウェブページは、<a href="Overview.html">WCAG 2.0 達成方法集: WCAG 2.0 の達成方法と失敗例</a> (<a href="https://www.w3.org/TR/WCAG20-TECHS/SL6.html">この文書の最新版 (英語)</a> を参照してください) の一部です。文書全体を<a href="complete.html">単一 HTML ファイルにしたもの</a>もご利用いただけます。この文書と、Web Content Accessibility Guidelines (WCAG) 2.0 に関連する他の文書との関係については、<a href="http://www.w3.org/WAI/intro/wcag20">The WCAG 2.0 Documents</a> をご覧ください。パブリックコメントを送るには、<a href="http://www.w3.org/WAI/WCAG20/comments/">Instructions for Commenting on WCAG 2.0 Documents</a> に従ってください。</p><p class="copyright"><a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2016 <a href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>). W3C <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply.</p><p>【注意】 この文書は、W3C ワーキンググループノート <a href="https://www.w3.org/TR/2016/NOTE-WCAG20-TECHS-20161007/">Techniques for WCAG 2.0 の 2016 年 10 月 7 日時点での最新版</a>を<a href="https://waic.jp/committee/wg4/">ウェブアクセシビリティ基盤委員会 (WAIC)</a> が翻訳して公開しているものです。この文書の正式版は、W3C のサイトにある英語版です。正確な内容については、W3C が公開している原文 (英語) をご確認ください。この翻訳文書はあくまで参考情報であり、翻訳上の誤りが含まれていることがあります。翻訳上の誤りを見つけられた場合は、<a href="https://waic.jp/contact/" id="file-issue">翻訳に関するお問い合わせ</a>からご連絡ください。</p><p>【重要】 達成方法のタイトルが英語のままになっているものは、日本語訳を行っていないため、原文 (英語) にリンクしています。</p></div><script src="https://waic.jp/docs/js/translation-contact.js"> </script></body></html>